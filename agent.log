2024-12-15 12:20:52,622 INFO - KUBECONFIG in use: None (Resolved Path: C:\Users\Sanket Chaudhary\.kube\config)
2024-12-15 12:20:52,622 INFO - Kubernetes configuration initialized successfully.
2024-12-15 12:20:52,703 INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://10.0.0.113:8000
2024-12-15 12:20:52,703 INFO - [33mPress CTRL+C to quit[0m
2024-12-15 12:21:00,026 INFO - Received query: How many pods are in the default namespace?
2024-12-15 12:21:00,044 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-15 12:21:00,044 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"How many pods are in the default namespace?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-15 12:21:02,816 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2407 request_id=req_d6261ceb893822dda98ff3b6fdcbfee6 response_code=200
2024-12-15 12:21:02,820 INFO - GPT-4 Response: {
    "intents": {
        "pods": true,
        "namespace": true,
        "status": false,
        "deployments": false,
        "logs": false
    },
    "keywords": ["pods", "default namespace"]
}
2024-12-15 12:21:02,831 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"78517"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"74284","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.97\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.97","podIPs":[{"ip":"10.244.0.97"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-15T16:39:54Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:06Z","finishedAt":"2024-12-15T06:49:38Z","containerID":"docker://6fd18c74ef55f997744ee4cbd35a575a2fe93a156f3a7c17ab6a9114d8102ef4"}},"ready":true,"restartCount":16,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://9bcb5fca5f368e927214f3e13c041892fb2f9b0158eb4978c44dd682fd820fea","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"74289","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.100\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.100","podIPs":[{"ip":"10.244.0.100"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-15T16:39:56Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:07Z","finishedAt":"2024-12-15T06:49:38Z","containerID":"docker://913842f163b25548301b8076c4a6f0419378094162ac6106c660c57434497491"}},"ready":true,"restartCount":13,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://9dceb225af0f6e3d5ca8e7cf58a3a44d52fe3f9bbd2111591e6325ef5e5e9977","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"74285","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.98\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.98","podIPs":[{"ip":"10.244.0.98"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-15T16:39:54Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:05Z","finishedAt":"2024-12-15T06:49:39Z","containerID":"docker://ff4b6c5d70148f52e7780c64aff910ec0c497056899c413b396eaecb40ff8c97"}},"ready":true,"restartCount":16,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://bfc95a27f876dea32ce7690762659ade911b40957689106a8aa001c04e0903cf","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"74277","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.96\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.96","podIPs":[{"ip":"10.244.0.96"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-15T16:39:55Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:06Z","finishedAt":"2024-12-15T06:49:39Z","containerID":"docker://235b9b013849c4b4486e7126884c3a0b60d5617f5b103b5eeccfe90c41a615be"}},"ready":true,"restartCount":13,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://94fba87a512e590fe631a33ea84cf322ee35223c1b8858d711639019bcf3ec1b","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-15 12:21:02,844 INFO - Fetched 4 pods from namespace 'default'.
2024-12-15 12:21:02,845 INFO - Generated answer: 4
2024-12-15 12:21:02,846 INFO - 127.0.0.1 - - [15/Dec/2024 12:21:02] "POST /query HTTP/1.1" 200 -
2024-12-15 12:21:02,854 INFO - Received query: What is the status of all pods?
2024-12-15 12:21:02,854 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-15 12:21:02,854 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"What is the status of all pods?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-15 12:21:04,778 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=1695 request_id=req_91dedb92a24ffccf05b3d379802f5b35 response_code=200
2024-12-15 12:21:04,778 INFO - GPT-4 Response: {
    "intents": {
        "pods": true,
        "namespace": false,
        "status": true,
        "deployments": false,
        "logs": false
    },
    "keywords": ["all", "pods"]
}
2024-12-15 12:21:04,789 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"78518"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"74284","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.97\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.97","podIPs":[{"ip":"10.244.0.97"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-15T16:39:54Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:06Z","finishedAt":"2024-12-15T06:49:38Z","containerID":"docker://6fd18c74ef55f997744ee4cbd35a575a2fe93a156f3a7c17ab6a9114d8102ef4"}},"ready":true,"restartCount":16,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://9bcb5fca5f368e927214f3e13c041892fb2f9b0158eb4978c44dd682fd820fea","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"74289","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.100\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.100","podIPs":[{"ip":"10.244.0.100"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-15T16:39:56Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:07Z","finishedAt":"2024-12-15T06:49:38Z","containerID":"docker://913842f163b25548301b8076c4a6f0419378094162ac6106c660c57434497491"}},"ready":true,"restartCount":13,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://9dceb225af0f6e3d5ca8e7cf58a3a44d52fe3f9bbd2111591e6325ef5e5e9977","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"74285","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.98\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.98","podIPs":[{"ip":"10.244.0.98"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-15T16:39:54Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:05Z","finishedAt":"2024-12-15T06:49:39Z","containerID":"docker://ff4b6c5d70148f52e7780c64aff910ec0c497056899c413b396eaecb40ff8c97"}},"ready":true,"restartCount":16,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://bfc95a27f876dea32ce7690762659ade911b40957689106a8aa001c04e0903cf","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"74277","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.96\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.96","podIPs":[{"ip":"10.244.0.96"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-15T16:39:55Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:06Z","finishedAt":"2024-12-15T06:49:39Z","containerID":"docker://235b9b013849c4b4486e7126884c3a0b60d5617f5b103b5eeccfe90c41a615be"}},"ready":true,"restartCount":13,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://94fba87a512e590fe631a33ea84cf322ee35223c1b8858d711639019bcf3ec1b","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-15 12:21:04,801 INFO - Fetched 4 pods from namespace 'default'.
2024-12-15 12:21:04,803 INFO - Generated answer: Status: apple is Running, bot-deployment-66d64568bb-mc4h2 is Running, orange is Running, website-deployment-dbc8b97cd-9ndzm is Running
2024-12-15 12:21:04,803 INFO - 127.0.0.1 - - [15/Dec/2024 12:21:04] "POST /query HTTP/1.1" 200 -
2024-12-15 12:21:04,807 INFO - Received query: How many nodes are in the cluster?
2024-12-15 12:21:04,807 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-15 12:21:04,807 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"How many nodes are in the cluster?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-15 12:21:06,800 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=1762 request_id=req_d851a42d38b25b65f0cd17b2896a1f07 response_code=200
2024-12-15 12:21:06,800 INFO - GPT-4 Response: {
    "intents": {
        "pods": false,
        "namespace": false,
        "status": false,
        "deployments": false,
        "logs": false
    },
    "keywords": ["nodes", "cluster"]
}
2024-12-15 12:21:06,847 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"78519"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"74284","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.97\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.97","podIPs":[{"ip":"10.244.0.97"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-15T16:39:54Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:06Z","finishedAt":"2024-12-15T06:49:38Z","containerID":"docker://6fd18c74ef55f997744ee4cbd35a575a2fe93a156f3a7c17ab6a9114d8102ef4"}},"ready":true,"restartCount":16,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://9bcb5fca5f368e927214f3e13c041892fb2f9b0158eb4978c44dd682fd820fea","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"74289","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.100\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.100","podIPs":[{"ip":"10.244.0.100"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-15T16:39:56Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:07Z","finishedAt":"2024-12-15T06:49:38Z","containerID":"docker://913842f163b25548301b8076c4a6f0419378094162ac6106c660c57434497491"}},"ready":true,"restartCount":13,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://9dceb225af0f6e3d5ca8e7cf58a3a44d52fe3f9bbd2111591e6325ef5e5e9977","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"74285","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.98\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.98","podIPs":[{"ip":"10.244.0.98"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-15T16:39:54Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:05Z","finishedAt":"2024-12-15T06:49:39Z","containerID":"docker://ff4b6c5d70148f52e7780c64aff910ec0c497056899c413b396eaecb40ff8c97"}},"ready":true,"restartCount":16,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://bfc95a27f876dea32ce7690762659ade911b40957689106a8aa001c04e0903cf","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"74277","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.96\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.96","podIPs":[{"ip":"10.244.0.96"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-15T16:39:55Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:06Z","finishedAt":"2024-12-15T06:49:39Z","containerID":"docker://235b9b013849c4b4486e7126884c3a0b60d5617f5b103b5eeccfe90c41a615be"}},"ready":true,"restartCount":13,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://94fba87a512e590fe631a33ea84cf322ee35223c1b8858d711639019bcf3ec1b","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-15 12:21:06,864 INFO - Generated answer: 1
2024-12-15 12:21:06,865 INFO - 127.0.0.1 - - [15/Dec/2024 12:21:06] "POST /query HTTP/1.1" 200 -
2024-12-15 12:21:06,870 INFO - Received query: How many restarts has the pod bot-deployment experienced?
2024-12-15 12:21:06,870 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-15 12:21:06,870 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"How many restarts has the pod bot-deployment experienced?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-15 12:21:09,419 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2267 request_id=req_054100ada9db8e2a95a6efb5ee5b2fe8 response_code=200
2024-12-15 12:21:09,419 INFO - GPT-4 Response: 
    {
        "intents": {
            "pods": true,
            "namespace": false,
            "status": false,
            "deployments": true,
            "logs": false
        },
        "keywords": ["restarts", "pod", "bot-deployment"]
    }
2024-12-15 12:21:09,419 INFO - Fetching restart count for pod: bot-deployment in namespace: default
2024-12-15 12:21:09,429 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"78521"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"74284","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.97\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.97","podIPs":[{"ip":"10.244.0.97"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-15T16:39:54Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:06Z","finishedAt":"2024-12-15T06:49:38Z","containerID":"docker://6fd18c74ef55f997744ee4cbd35a575a2fe93a156f3a7c17ab6a9114d8102ef4"}},"ready":true,"restartCount":16,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://9bcb5fca5f368e927214f3e13c041892fb2f9b0158eb4978c44dd682fd820fea","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"74289","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.100\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.100","podIPs":[{"ip":"10.244.0.100"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-15T16:39:56Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:07Z","finishedAt":"2024-12-15T06:49:38Z","containerID":"docker://913842f163b25548301b8076c4a6f0419378094162ac6106c660c57434497491"}},"ready":true,"restartCount":13,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://9dceb225af0f6e3d5ca8e7cf58a3a44d52fe3f9bbd2111591e6325ef5e5e9977","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"74285","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.98\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.98","podIPs":[{"ip":"10.244.0.98"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-15T16:39:54Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:05Z","finishedAt":"2024-12-15T06:49:39Z","containerID":"docker://ff4b6c5d70148f52e7780c64aff910ec0c497056899c413b396eaecb40ff8c97"}},"ready":true,"restartCount":16,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://bfc95a27f876dea32ce7690762659ade911b40957689106a8aa001c04e0903cf","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"74277","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.96\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.96","podIPs":[{"ip":"10.244.0.96"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-15T16:39:55Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:06Z","finishedAt":"2024-12-15T06:49:39Z","containerID":"docker://235b9b013849c4b4486e7126884c3a0b60d5617f5b103b5eeccfe90c41a615be"}},"ready":true,"restartCount":13,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://94fba87a512e590fe631a33ea84cf322ee35223c1b8858d711639019bcf3ec1b","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-15 12:21:09,441 INFO - Fetched 4 pods from namespace 'default'.
2024-12-15 12:21:09,442 INFO - Found pod 'bot-deployment-66d64568bb-mc4h2' (trimmed to 'bot-deployment'). Restarts: 13
2024-12-15 12:21:09,442 INFO - Generated answer: 13
2024-12-15 12:21:09,442 INFO - 127.0.0.1 - - [15/Dec/2024 12:21:09] "POST /query HTTP/1.1" 200 -
2024-12-15 12:21:09,447 INFO - Received query: Which pod is spawned by website-deployment?
2024-12-15 12:21:09,447 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-15 12:21:09,447 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"Which pod is spawned by website-deployment?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-15 12:21:12,089 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2486 request_id=req_a6b9594644759675f8e9bd81fe364ee0 response_code=200
2024-12-15 12:21:12,089 INFO - GPT-4 Response: 
{
    "intents": {
        "pods": true,
        "namespace": false,
        "status": false,
        "deployments": true,
        "logs": false
    },
    "keywords": ["website-deployment"]
}
2024-12-15 12:21:12,286 DEBUG - response body: {"kind":"Deployment","apiVersion":"apps/v1","metadata":{"name":"website-deployment","namespace":"default","uid":"50ca44a8-4c26-4baf-b6d7-0f5b226d875c","resourceVersion":"74280","generation":1,"creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment"},"annotations":{"deployment.kubernetes.io/revision":"1"},"managedFields":[{"manager":"kubectl-create","operation":"Update","apiVersion":"apps/v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:progressDeadlineSeconds":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{},"f:strategy":{"f:rollingUpdate":{".":{},"f:maxSurge":{},"f:maxUnavailable":{}},"f:type":{}},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:deployment.kubernetes.io/revision":{}}},"f:status":{"f:availableReplicas":{},"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updatedReplicas":{}}},"subresource":"status"}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"website-deployment"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"website-deployment"}},"spec":{"containers":[{"name":"httpd","image":"httpd","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":1,"replicas":1,"updatedReplicas":1,"readyReplicas":1,"availableReplicas":1,"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2024-12-08T18:40:59Z","lastTransitionTime":"2024-12-08T18:40:56Z","reason":"NewReplicaSetAvailable","message":"ReplicaSet \"website-deployment-dbc8b97cd\" has successfully progressed."},{"type":"Available","status":"True","lastUpdateTime":"2024-12-15T16:39:55Z","lastTransitionTime":"2024-12-15T16:39:55Z","reason":"MinimumReplicasAvailable","message":"Deployment has minimum availability."}]}}

2024-12-15 12:21:12,289 INFO - Namespace: default, Label selector for deployment 'website-deployment': app=website-deployment
2024-12-15 12:21:12,312 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"78523"},"items":[{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"74277","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.96\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.96","podIPs":[{"ip":"10.244.0.96"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-15T16:39:55Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:06Z","finishedAt":"2024-12-15T06:49:39Z","containerID":"docker://235b9b013849c4b4486e7126884c3a0b60d5617f5b103b5eeccfe90c41a615be"}},"ready":true,"restartCount":13,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://94fba87a512e590fe631a33ea84cf322ee35223c1b8858d711639019bcf3ec1b","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-15 12:21:12,319 INFO - Pods found for deployment 'website-deployment': ['website-deployment-dbc8b97cd-9ndzm']
2024-12-15 12:21:12,319 INFO - Generated answer: website-deployment
2024-12-15 12:21:12,320 INFO - 127.0.0.1 - - [15/Dec/2024 12:21:12] "POST /query HTTP/1.1" 200 -
2024-12-15 12:21:12,360 INFO - Received query: What is the status of the pod named 'orange'?
2024-12-15 12:21:12,361 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-15 12:21:12,361 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"What is the status of the pod named \'orange\'?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-15 12:21:14,598 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2034 request_id=req_d4a0437f521bc3095740d10f75fceb8f response_code=200
2024-12-15 12:21:14,599 INFO - GPT-4 Response: {
    "intents": {
        "pods": true,
        "namespace": false,
        "status": true,
        "deployments": false,
        "logs": false
    },
    "keywords": ["orange"]
}
2024-12-15 12:21:14,713 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"78526"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"74284","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.97\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.97","podIPs":[{"ip":"10.244.0.97"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-15T16:39:54Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:06Z","finishedAt":"2024-12-15T06:49:38Z","containerID":"docker://6fd18c74ef55f997744ee4cbd35a575a2fe93a156f3a7c17ab6a9114d8102ef4"}},"ready":true,"restartCount":16,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://9bcb5fca5f368e927214f3e13c041892fb2f9b0158eb4978c44dd682fd820fea","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"74289","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.100\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.100","podIPs":[{"ip":"10.244.0.100"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-15T16:39:56Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:07Z","finishedAt":"2024-12-15T06:49:38Z","containerID":"docker://913842f163b25548301b8076c4a6f0419378094162ac6106c660c57434497491"}},"ready":true,"restartCount":13,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://9dceb225af0f6e3d5ca8e7cf58a3a44d52fe3f9bbd2111591e6325ef5e5e9977","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"74285","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.98\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.98","podIPs":[{"ip":"10.244.0.98"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-15T16:39:54Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:05Z","finishedAt":"2024-12-15T06:49:39Z","containerID":"docker://ff4b6c5d70148f52e7780c64aff910ec0c497056899c413b396eaecb40ff8c97"}},"ready":true,"restartCount":16,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://bfc95a27f876dea32ce7690762659ade911b40957689106a8aa001c04e0903cf","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"74277","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.96\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.96","podIPs":[{"ip":"10.244.0.96"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-15T16:39:55Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:06Z","finishedAt":"2024-12-15T06:49:39Z","containerID":"docker://235b9b013849c4b4486e7126884c3a0b60d5617f5b103b5eeccfe90c41a615be"}},"ready":true,"restartCount":13,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://94fba87a512e590fe631a33ea84cf322ee35223c1b8858d711639019bcf3ec1b","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-15 12:21:14,729 INFO - Fetched 4 pods from namespace 'default'.
2024-12-15 12:21:14,730 INFO - Generated answer: Running
2024-12-15 12:21:14,730 INFO - 127.0.0.1 - - [15/Dec/2024 12:21:14] "POST /query HTTP/1.1" 200 -
2024-12-15 12:21:14,737 INFO - Received query: Which nodes are the pods running on in the cluster?
2024-12-15 12:21:14,737 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-15 12:21:14,737 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"Which nodes are the pods running on in the cluster?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-15 12:21:16,945 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2044 request_id=req_4d0452f470dd70f5508f57c55282a0eb response_code=200
2024-12-15 12:21:16,945 INFO - GPT-4 Response: {
    "intents": {
        "pods": true,
        "namespace": false,
        "status": false,
        "deployments": false,
        "logs": false
    },
    "keywords": ["nodes", "cluster"]
}
2024-12-15 12:21:16,955 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"78527"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"74284","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.97\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.97","podIPs":[{"ip":"10.244.0.97"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-15T16:39:54Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:06Z","finishedAt":"2024-12-15T06:49:38Z","containerID":"docker://6fd18c74ef55f997744ee4cbd35a575a2fe93a156f3a7c17ab6a9114d8102ef4"}},"ready":true,"restartCount":16,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://9bcb5fca5f368e927214f3e13c041892fb2f9b0158eb4978c44dd682fd820fea","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"74289","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.100\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.100","podIPs":[{"ip":"10.244.0.100"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-15T16:39:56Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:07Z","finishedAt":"2024-12-15T06:49:38Z","containerID":"docker://913842f163b25548301b8076c4a6f0419378094162ac6106c660c57434497491"}},"ready":true,"restartCount":13,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://9dceb225af0f6e3d5ca8e7cf58a3a44d52fe3f9bbd2111591e6325ef5e5e9977","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"74285","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.98\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.98","podIPs":[{"ip":"10.244.0.98"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-15T16:39:54Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:05Z","finishedAt":"2024-12-15T06:49:39Z","containerID":"docker://ff4b6c5d70148f52e7780c64aff910ec0c497056899c413b396eaecb40ff8c97"}},"ready":true,"restartCount":16,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://bfc95a27f876dea32ce7690762659ade911b40957689106a8aa001c04e0903cf","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"74277","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.96\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.96","podIPs":[{"ip":"10.244.0.96"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-15T16:39:55Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:06Z","finishedAt":"2024-12-15T06:49:39Z","containerID":"docker://235b9b013849c4b4486e7126884c3a0b60d5617f5b103b5eeccfe90c41a615be"}},"ready":true,"restartCount":13,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://94fba87a512e590fe631a33ea84cf322ee35223c1b8858d711639019bcf3ec1b","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-15 12:21:16,967 INFO - Generated answer: 1
2024-12-15 12:21:16,968 INFO - 127.0.0.1 - - [15/Dec/2024 12:21:16] "POST /query HTTP/1.1" 200 -
2024-12-15 12:21:16,972 INFO - Received query: Which pods belong to bot-deployment?
2024-12-15 12:21:16,972 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-15 12:21:16,972 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"Which pods belong to bot-deployment?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-15 12:21:18,895 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=1740 request_id=req_af9dd3364980a579b3c538ac3d026bb0 response_code=200
2024-12-15 12:21:18,896 INFO - GPT-4 Response: 
    {
        "intents": {
            "pods": true,
            "namespace": false,
            "status": false,
            "deployments": true,
            "logs": false
        },
        "keywords": ["bot-deployment"]
    }
2024-12-15 12:21:18,910 DEBUG - response body: {"kind":"Deployment","apiVersion":"apps/v1","metadata":{"name":"bot-deployment","namespace":"default","uid":"538f8a37-4c8d-4ebb-89c9-c0cc6c5d5b5f","resourceVersion":"74291","generation":1,"creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment"},"annotations":{"deployment.kubernetes.io/revision":"1"},"managedFields":[{"manager":"kubectl-create","operation":"Update","apiVersion":"apps/v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:progressDeadlineSeconds":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{},"f:strategy":{"f:rollingUpdate":{".":{},"f:maxSurge":{},"f:maxUnavailable":{}},"f:type":{}},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2024-12-15T16:39:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:deployment.kubernetes.io/revision":{}}},"f:status":{"f:availableReplicas":{},"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updatedReplicas":{}}},"subresource":"status"}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"bot-deployment"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"bot-deployment"}},"spec":{"containers":[{"name":"nginx","image":"nginx","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":1,"replicas":1,"updatedReplicas":1,"readyReplicas":1,"availableReplicas":1,"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2024-12-08T18:40:58Z","lastTransitionTime":"2024-12-08T18:40:48Z","reason":"NewReplicaSetAvailable","message":"ReplicaSet \"bot-deployment-66d64568bb\" has successfully progressed."},{"type":"Available","status":"True","lastUpdateTime":"2024-12-15T16:39:56Z","lastTransitionTime":"2024-12-15T16:39:56Z","reason":"MinimumReplicasAvailable","message":"Deployment has minimum availability."}]}}

2024-12-15 12:21:18,913 INFO - Namespace: default, Label selector for deployment 'bot-deployment': app=bot-deployment
2024-12-15 12:21:18,926 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"78529"},"items":[{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"74289","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.100\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.100","podIPs":[{"ip":"10.244.0.100"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-15T16:39:56Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:07Z","finishedAt":"2024-12-15T06:49:38Z","containerID":"docker://913842f163b25548301b8076c4a6f0419378094162ac6106c660c57434497491"}},"ready":true,"restartCount":13,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://9dceb225af0f6e3d5ca8e7cf58a3a44d52fe3f9bbd2111591e6325ef5e5e9977","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-15 12:21:18,930 INFO - Pods found for deployment 'bot-deployment': ['bot-deployment-66d64568bb-mc4h2']
2024-12-15 12:21:18,931 INFO - Generated answer: bot-deployment
2024-12-15 12:21:18,931 INFO - 127.0.0.1 - - [15/Dec/2024 12:21:18] "POST /query HTTP/1.1" 200 -
2024-12-15 12:21:18,936 INFO - Received query: What is the status of pods in the deployment bot-deployment?
2024-12-15 12:21:18,936 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-15 12:21:18,936 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"What is the status of pods in the deployment bot-deployment?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-15 12:21:21,451 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2358 request_id=req_39bc6e65a30c6228d5f488f568535d90 response_code=200
2024-12-15 12:21:21,452 INFO - GPT-4 Response: 
    {
        "intents": {
            "pods": true,
            "namespace": false,
            "status": true,
            "deployments": true,
            "logs": false
        },
        "keywords": ["bot-deployment"]
    }
2024-12-15 12:21:21,468 DEBUG - response body: {"kind":"Deployment","apiVersion":"apps/v1","metadata":{"name":"bot-deployment","namespace":"default","uid":"538f8a37-4c8d-4ebb-89c9-c0cc6c5d5b5f","resourceVersion":"74291","generation":1,"creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment"},"annotations":{"deployment.kubernetes.io/revision":"1"},"managedFields":[{"manager":"kubectl-create","operation":"Update","apiVersion":"apps/v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:progressDeadlineSeconds":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{},"f:strategy":{"f:rollingUpdate":{".":{},"f:maxSurge":{},"f:maxUnavailable":{}},"f:type":{}},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2024-12-15T16:39:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:deployment.kubernetes.io/revision":{}}},"f:status":{"f:availableReplicas":{},"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updatedReplicas":{}}},"subresource":"status"}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"bot-deployment"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"bot-deployment"}},"spec":{"containers":[{"name":"nginx","image":"nginx","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":1,"replicas":1,"updatedReplicas":1,"readyReplicas":1,"availableReplicas":1,"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2024-12-08T18:40:58Z","lastTransitionTime":"2024-12-08T18:40:48Z","reason":"NewReplicaSetAvailable","message":"ReplicaSet \"bot-deployment-66d64568bb\" has successfully progressed."},{"type":"Available","status":"True","lastUpdateTime":"2024-12-15T16:39:56Z","lastTransitionTime":"2024-12-15T16:39:56Z","reason":"MinimumReplicasAvailable","message":"Deployment has minimum availability."}]}}

2024-12-15 12:21:21,472 INFO - Namespace: default, Label selector for deployment 'bot-deployment': app=bot-deployment
2024-12-15 12:21:21,484 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"78531"},"items":[{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"74289","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.100\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.100","podIPs":[{"ip":"10.244.0.100"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-15T16:39:56Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:07Z","finishedAt":"2024-12-15T06:49:38Z","containerID":"docker://913842f163b25548301b8076c4a6f0419378094162ac6106c660c57434497491"}},"ready":true,"restartCount":13,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://9dceb225af0f6e3d5ca8e7cf58a3a44d52fe3f9bbd2111591e6325ef5e5e9977","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-15 12:21:21,487 INFO - Pods found for deployment 'bot-deployment': ['bot-deployment-66d64568bb-mc4h2']
2024-12-15 12:21:21,487 INFO - Generated answer: bot-deployment
2024-12-15 12:21:21,488 INFO - 127.0.0.1 - - [15/Dec/2024 12:21:21] "POST /query HTTP/1.1" 200 -
2024-12-15 12:21:21,493 INFO - Received query: What is?
2024-12-15 12:21:21,494 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-15 12:21:21,494 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"What is?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-15 12:21:24,700 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=3030 request_id=req_17ed5e5141c3b58ef5f0de9f583afeed response_code=200
2024-12-15 12:21:24,700 INFO - GPT-4 Response: 
    {
        "intents": {
            "pods": false,
            "namespace": false,
            "status": false,
            "deployments": false,
            "logs": false
        },
        "keywords": []
    }
2024-12-15 12:21:24,701 INFO - Extracted Kubernetes Names: ['what']
2024-12-15 12:21:24,701 WARNING - Keywords extracted using fallback regex method.
2024-12-15 12:21:24,701 INFO - Generated answer: I'm sorry, I couldn't understand your query. Please try rephrasing.
2024-12-15 12:21:24,702 INFO - 127.0.0.1 - - [15/Dec/2024 12:21:24] "POST /query HTTP/1.1" 200 -
2024-12-15 12:21:24,706 INFO - Received query: 
2024-12-15 12:21:24,708 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-15 12:21:24,708 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-15 12:21:26,154 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=1265 request_id=req_6e5963828580430ad22c89b09ace3120 response_code=200
2024-12-15 12:21:26,154 INFO - GPT-4 Response: {
    "intents": {
        "pods": false,
        "namespace": false,
        "status": false,
        "deployments": false,
        "logs": false
    },
    "keywords": []
}
2024-12-15 12:21:26,154 INFO - Extracted Kubernetes Names: []
2024-12-15 12:21:26,154 WARNING - Keywords extracted using fallback regex method.
2024-12-15 12:21:26,154 INFO - Generated answer: I'm sorry, I couldn't understand your query. Please try rephrasing.
2024-12-15 12:21:26,154 INFO - 127.0.0.1 - - [15/Dec/2024 12:21:26] "POST /query HTTP/1.1" 200 -
2024-12-15 12:21:26,159 INFO - Received query: How many pods are running in the namespace dev?
2024-12-15 12:21:26,159 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-15 12:21:26,159 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"How many pods are running in the namespace dev?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-15 12:21:29,327 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=3015 request_id=req_1ade8ffd6761d41f1d1c40ef68b942bb response_code=200
2024-12-15 12:21:29,328 INFO - GPT-4 Response: {
    "intents": {
        "pods": true,
        "namespace": true,
        "status": true,
        "deployments": false,
        "logs": false
    },
    "keywords": ["how many", "running", "dev"]
}
2024-12-15 12:21:29,338 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"78537"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"74284","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.97\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.97","podIPs":[{"ip":"10.244.0.97"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-15T16:39:54Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:06Z","finishedAt":"2024-12-15T06:49:38Z","containerID":"docker://6fd18c74ef55f997744ee4cbd35a575a2fe93a156f3a7c17ab6a9114d8102ef4"}},"ready":true,"restartCount":16,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://9bcb5fca5f368e927214f3e13c041892fb2f9b0158eb4978c44dd682fd820fea","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"74289","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.100\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:56Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.100","podIPs":[{"ip":"10.244.0.100"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-15T16:39:56Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:07Z","finishedAt":"2024-12-15T06:49:38Z","containerID":"docker://913842f163b25548301b8076c4a6f0419378094162ac6106c660c57434497491"}},"ready":true,"restartCount":13,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://9dceb225af0f6e3d5ca8e7cf58a3a44d52fe3f9bbd2111591e6325ef5e5e9977","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"74285","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.98\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.98","podIPs":[{"ip":"10.244.0.98"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-15T16:39:54Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:05Z","finishedAt":"2024-12-15T06:49:39Z","containerID":"docker://ff4b6c5d70148f52e7780c64aff910ec0c497056899c413b396eaecb40ff8c97"}},"ready":true,"restartCount":16,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://bfc95a27f876dea32ce7690762659ade911b40957689106a8aa001c04e0903cf","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"74277","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-15T16:39:55Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.96\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-15T16:39:55Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.96","podIPs":[{"ip":"10.244.0.96"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-15T16:39:55Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-15T04:35:06Z","finishedAt":"2024-12-15T06:49:39Z","containerID":"docker://235b9b013849c4b4486e7126884c3a0b60d5617f5b103b5eeccfe90c41a615be"}},"ready":true,"restartCount":13,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://94fba87a512e590fe631a33ea84cf322ee35223c1b8858d711639019bcf3ec1b","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-15 12:21:29,354 INFO - Fetched 4 pods from namespace 'default'.
2024-12-15 12:21:29,354 INFO - Generated answer: 4
2024-12-15 12:21:29,355 INFO - 127.0.0.1 - - [15/Dec/2024 12:21:29] "POST /query HTTP/1.1" 200 -
